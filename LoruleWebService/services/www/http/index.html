<!DOCTYPE html>
<html lang="en">
<head>
    <title>Lorule : A Dark Ages Roleplaying Server</title>
    <meta charset="utf-8">

	<style>

			.console {
				display: block;
				background: #000;
				border: 3px groove #ccc;
				color: #ccc;
				padding: 10px;
				width: 250px;
				overflow-y: auto;
				height: 99%;
				position: fixed;
				bottom: 0;
				right: 0;
				font-size: small;
			}

			.Debug {
				color: aqua;
			}

			.Info {
				color: khaki;
			}

			.Error {
				color: red;
			}

			.Warning {
				color: sandybrown;
			}
	</style>
</head>

<body ng-app="sampleApp">

	<div class="container">

		<table width="100%" border="0" cellpadding="10" cellspacing="5">
			<tr>
				<td width="20%" valign="middle" align="center">
					Lorule : A Dark Ages Roleplaying Server
				</td>
				<td width="80%">
					<div ng-controller="ServerController">
						{{ServerStatus}}
					</div>
				</td>
			</tr>
			<tr>
				<td width="20%" valign="top">
					<div ng-controller="MenuController">
						<a href="/items">Items</a> <br />
						<a href="/players">Players</a> <br />
						<a href="/creatures">Creatures</a> <br />
						<a href="/skills">Skills</a><br />
						<a href="/spells">Spells</a>
					</div>
				</td>
				<td width="80%" valign="top">

					<div ng-view></div>


					<div ng-controller="LogController" class="console">
						<br/>
						<div ng-repeat="(key, value) in Logs">
							<div class="{{value[0]}}">{{value[1]}}</div>
						</div>
					</div>
				</td>
			</tr>
		</table>

		

	</div>


	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular.min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular-animate.min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular-cookies.min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular-resource.min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular-route.min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular-sanitize.min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular-touch.min.js"></script>
	<script src="app.js"></script>
	<script>
		var lorTimer = setInterval(loruleUpdate, 2000);
		function loruleUpdate() {
			var scope = angular.element(document.querySelector('[ng-controller="ServerController"]')).scope();
			var logScope = angular.element(document.querySelector('[ng-controller="LogController"]')).scope();

			scope.getUsers();
			scope.getServerStatus();
			logScope.getServerLogs();
		}

	</script>
</body>
</html>
