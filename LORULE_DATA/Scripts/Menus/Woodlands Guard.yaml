start:
    checkpoint: 4


menus:
  - id: 1
    text: "I'm the first menu."
    options:
      - id: 1
        text: "I'm an option. click me to goto menu 2"
        menu: 2
  - id: 2
    text: "I'm menu 2!"
    options:
      - id: 1
        text: "This option does nothing."  
      - id: 2
        text: "Start Quest Example!"
        checkpoint: 1
      - id: 3
        text: "Test complete quest"
        checkpoint: 3
  - id: 3
    text: "Hidden menu, Only visible after quest completed."
    options:
      - id: 1
        text: "a"  



sequences:
  - id: 1                                  
    name: "Quest Sequence 1"                  
    steps:                          
    - id: 1                                
      text: "You have started the quest."         
    - id: 2                                
      text: "I've been waiting all day for you to return."   
      answers:
        - id: 1
          checkpoint: 2

      
  - id: 2                                 
    name: "Quest Sequence 2"                  
    steps:                          
    - id: 1                                
      text: "Thank you, Quest Completed!"         
    - id: 2                                
      text: "Please come back when you have completed my quest."
      answers:
        - id: 1  
          menu: 2          


      
checkpoints:

## create quest, then give to player. 
#-------------------------------------------
## - success: they have accepted the quest.
## - fail: they have already accepted it.
########################################################################################################
  - id: 1
    type: Call
    value: >
            Quest quest = new Quest()
                {
                    Name = "test_quest",
                    GoldReward = 5000,
                    StatRewards = new List<AttrReward>()
                      {
                          new AttrReward()
                          {
                               Attribute = PlayerAttr.STR,
                               Operator = new StatusOperator(Operator.Add, 3),
                          },
                      }
                };
                var result = user.AcceptQuest(quest);                               
    success:
      step: 1
      sequence: 1
    fail:
      step: 2
      sequence: 1



## Checks if player has completed a the quest. 
#-------------------------------------------
## - success: they have completed it.
## - fail: they have not completed it yet.
########################################################################################################
  - id: 2
    type: Call
    value: >
            var result = (user.HasCompletedQuest("test_quest"));                              
    success:
      step: 1
      sequence: 2
    fail:
      step: 2
      sequence: 2 
########################################################################################################


## Completes the Quest. 
#-------------------------------------------
## - success: quest was completed, any rewards given.
## - fail: they have not completed it yet.
########################################################################################################
  - id: 3
    type: Call
    value: >
            var q         = user.GetQuest("test_quest");
            var result    = false;
            
            if (q != null) {           
                q.HandleQuest(client, null);
                result = true;
            }
                                   
    success:
      step: 1
      sequence: 2
    fail:
      step: 2
      sequence: 2 
#########################################################################################################


## Completes the Quest. 
#-------------------------------------------
## - success: quest was completed, any rewards given.
## - fail: they have not completed it yet.
########################################################################################################
  - id: 4
    type: Call
    value: >
            var result = (user.HasCompletedQuest("test_quest"));                                   
    success:
      menu: 3
    fail:
      menu: 1 
###########################################################################################################